# ---------- Core server configuration ----------

# Primary Postgres connection string (Neon or equivalent)
DATABASE_URL="postgresql://user:password@host/database?sslmode=require"

# Express server port
PORT=8080

# Required to sign session cookies â€“ replace before deploying
SESSION_SECRET="dev-session-secret-change-me"

# Daily challenge rotation
DAILY_TZ="America/New_York"
DAILY_ROLL_HOUR=0

# ---------- OAuth / OpenID Connect ----------

# Identity provider discovery endpoint (Google by default)
ISSUER_URL="https://accounts.google.com"

# Public origin for the frontend app (no trailing slash)
BASE_URL="http://localhost:5000"

# OAuth client credentials created in Google Cloud console
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Replit-compatible client ID (often identical to GOOGLE_CLIENT_ID)
REPL_ID="your-replit-client-id.apps.googleusercontent.com"

# Domains the backend should trust for login/callback (host[:port])
REPLIT_DOMAINS="localhost:8080"

# ---------- CORS ----------

# Comma-separated list of exact origins that may use cookies with the API
CORS_ALLOWED_ORIGINS="http://localhost:5000"

# Optional list of hostname suffixes (e.g. Vercel previews) also allowed
CORS_ALLOWED_ORIGIN_SUFFIXES=".vercel.app"

# ---------- Session cookie overrides (optional) ----------

# SameSite defaults to "none" when NODE_ENV=production; override if needed
# SESSION_COOKIE_SAME_SITE="none"

# Leave unset unless you need to share cookies across subdomains
# SESSION_COOKIE_DOMAIN=".example.com"

# ---------- Client (Vite) ----------

# Point the frontend at the backend origin; also set in client/.env
VITE_SERVER_URL="http://localhost:8080"
